@page "/Orders"

@using SimpleBlazorGrid.EntityFramework.DataSource
@using SimpleBlazorGrid.EntityFramework.Sandbox.Core.Domain
@using SimpleBlazorGrid.EntityFramework.Sandbox.Core.Infrastructure
@using Microsoft.EntityFrameworkCore

<SimpleGrid TType="Order"
            Title="Orders"
            Selectable="@true"
            SimpleGridDataSource="@(new SimpleGridEntityFrameworkDataSource<Order>(Context.Orders.Include(x => x.Customer).AsQueryable()))">
    <Filters>
        @* <SimpleNumericFilter TType="Order" For="@(x => x.OrderId)"/> *@
        <SimpleStringFilter TType="Order" For="@(x => x.Customer.CompanyName)"/>
    </Filters>
    <Columns>
        <SimpleColumn TType="Order" For="@(x => x.OrderId)"/>
        <SimpleColumn TType="Order" For="@(x => x.Customer.CompanyName)" Sortable="@true" Heading="Customer"/>
        <SimpleColumn TType="Order" For="@(x => x.CustomerId)" Heading="Customer ID"/>
    </Columns>
</SimpleGrid>

@code {
    public DatabaseContext Context { get; set; } = DatabaseContextFactory.Create();
}