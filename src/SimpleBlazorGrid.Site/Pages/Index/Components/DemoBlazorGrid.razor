@namespace SimpleBlazorGrid.Site.Pages.Index.Components

@using SimpleBlazorGrid.Site.Data
@using SimpleBlazorGrid.DataSource
@using Humanizer

@inject PersonnelService PersonnelService

<div class="demo-grid">
    <SimpleGrid TType="Personnel"
                DataSource="new SimpleDataGridEnumerableSource<Personnel>(PersonnelService.GetPersonnelForCompany(Company.BlackMesa))"
                Selectable="@true"
                ItemsPerPage="15"
                Title="Black Mesa Personnel"
                Subtitle="Current Employees at the Black Mesa Research Facility, New Mexico">
        <Filters>
            
        </Filters>
        <Columns>
            <SimpleColumn TType="Personnel" For="@(x => x.Id)" Width="5" Sortable="@true" />
            <SimpleColumn TType="Personnel" For="@(x => x.FirstName)" Heading="Name" Width="18">
                <SimpleColumnTemplate Context="item">
                    @item.Title @item.FirstName @item.LastName
                </SimpleColumnTemplate>
            </SimpleColumn>
            <SimpleColumn TType="Personnel" For="@(x => x.DateOfBirth)" Heading="Date of Birth" Sortable="@true" Width="13"/>
            <SimpleColumn TType="Personnel" For="@(x => x.JobTitle)" Heading="Job Title" Width="30">
                <SimpleColumnTemplate Context="item">
                    @item.JobTitle
                    <br/>
                    <small>Department: @item.Department</small>
                </SimpleColumnTemplate>
            </SimpleColumn>
            <SimpleColumn TType="Personnel" For="@(x => x.SecurityClearance)" Heading="Security Clearance">
                <SimpleColumnTemplate Context="item">
                    @item.SecurityClearance.Humanize()
                </SimpleColumnTemplate>
            </SimpleColumn>
        </Columns>
    </SimpleGrid>
</div>

@code {
    
}