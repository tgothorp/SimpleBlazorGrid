@page "/"
@using AnotherBlazorGrid.Sandbox.Data
@using AnotherBlazorGrid.Interfaces

@inject ProductRepo ProductRepo

<PageTitle>Another Blazor DataGrid</PageTitle>

<ABDataGrid TType="Product" DataSource="@(new DataGridEnumerableSource<Product>(Products))">
    <ABColumn  TType="Product" Property="@(nameof(Product.Id))" />
    <ABColumn  TType="Product" Property="@(nameof(Product.Name))" />
    <ABColumn TType="Product" Property="@(nameof(Product.CostInGbp))" Heading="Price (GBP)">
        <ABColumnFormat Context="item">
            @item.CostInGbp.ToString("C")
        </ABColumnFormat>
    </ABColumn>
</ABDataGrid>

@code {

    public List<Product> Products { get; set; }

    protected override void OnParametersSet()
    {
        Products = ProductRepo.GetAllProducts();
    }
}