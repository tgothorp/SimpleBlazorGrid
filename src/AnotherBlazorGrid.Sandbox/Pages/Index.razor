@page "/"
@using AnotherBlazorGrid.Sandbox.Data
@using AnotherBlazorGrid.Interfaces

@inject ProductRepo ProductRepo

<PageTitle>Another Blazor DataGrid</PageTitle>

<ABDataGrid TType="Product" DataSource="@(new DataGridEnumerableSource<Product>(Products))">
    <ABColumn Property="@(nameof(Product.Id))" />
    <ABColumn Property="@(nameof(Product.Name))" />
    <ABColumn Property="@(nameof(Product.CostInGbp))" Heading="Price (GBP)" />
</ABDataGrid>

@code {

    public List<Product> Products { get; set; }

    protected override void OnParametersSet()
    {
        Products = ProductRepo.GetAllProducts();
    }
}